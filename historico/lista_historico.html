{% extends 'base.html' %}

{% block title %}Histórico de Empréstimos{% endblock %}

{% block content %}
<h2>Histórico de Empréstimos</h2>
<div class="form-group">
    <input type="text" id="buscarHistorico" onkeyup="filterTable('buscarHistorico', 'tabelaHistorico')" placeholder="Buscar no histórico..." style="width: 80%; margin-bottom: 1rem;">
    <button type="button" class="btn">Buscar</button>
</div>

<table id="tabelaHistorico">
    <thead>
        <tr>
            <th>ID</th>
            <th>Aluno</th>
            <th>Livro</th>
            <th>Data de Empréstimo</th>
            <th>Data de Devolução</th>
        </tr>
    </thead>
    <tbody>
        {% for emprestimo in emprestimos %}
        <tr>
            <td>{{ emprestimo.id }}</td>
            <td>{{ emprestimo.aluno.nome }}</td>
            <td>{{ emprestimo.livro.titulo }}</td>
            <td>{{ emprestimo.data_emprestimo|date:"d/m/Y" }}</td>
            <td>{{ emprestimo.data_devolucao|date:"d/m/Y"|default_if_none:"Pendente" }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% endblock %}
